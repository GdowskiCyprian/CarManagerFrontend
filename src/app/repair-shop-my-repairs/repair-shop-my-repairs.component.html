<!DOCTYPE html>
<html>
<head>
</head>
<body>
<div class="topbar">
  CarManager - Hello {{email}}
</div>

<div class="sidenav">
  <a href="/repairshopgeneralinfo">General Info</a>
  <a href="/repairshopmyclients">My Clients</a>
  <a >My Repairs</a>
  <a href="/repairshopnewrepair">New Repair</a>
  <a (click)="logout()">Logout</a>
  <a href="/repairshopchangepassword">Change Password</a>
</div>

<div class="content">
  <table>
    <tr>

      <th class="mainth">date</th>
      <th class="mainth">description</th>
      <th class="mainth">name</th>
<!--      <th class="mainthrepairpart">Repair Part Menu</th>-->
      <table class="headersmenu">
        <tr>
          <th class="repairth">Part name</th>
          <th class="repairth">Part price($)</th>
          <th class="repairthaction">Edit</th>
          <th class="repairthaction">Delete</th>
        </tr>
      </table>
      <th>
        Delete repair
      </th>
    </tr>
    <tr *ngFor="let repair of allRepairs">

      <td class="normaltd">{{repair.date | date:'dd/MM/yyyy'}}</td>
      <td class="normaltd">{{repair.description}}</td>
      <td class="normaltd">{{repair.name}}</td>
      <table class="repairtable">
        <tr *ngFor="let repairPart of repair['repairParts']">
          <td class="repairtd">{{repairPart.name}}</td>
          <td class="repairtd">{{repairPart.price}}</td>
          <td class="repairtdaction">
            <button class="buttonrepairpart" >Edit</button>
          </td>
          <td class="repairtdaction">
            <button class="buttonrepairpart" (click)="deleteRepairPart(repairPart.idRepairPart)">Delete</button>
          </td>

        </tr>
      </table>
      <td>
        <button class="buttonrepairpart" (click)="deleteRepair(repair.idRepair)">Delete</button>
      </td>



    </tr>

  </table>
</div>



</body>
</html>

